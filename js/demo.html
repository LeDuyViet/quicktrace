<!DOCTYPE html>
<!--
//go:build ignore
// +build ignore
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Tracing Library Demo</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #1e1e1e;
            color: #ffffff;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #4fc3f7;
            text-align: center;
            border-bottom: 2px solid #4fc3f7;
            padding-bottom: 10px;
        }
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
            background-color: #2d2d2d;
        }
        .demo-title {
            color: #81c784;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .demo-description {
            color: #bbb;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        button {
            background-color: #4fc3f7;
            color: #1e1e1e;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            font-family: inherit;
        }
        button:hover {
            background-color: #29b6f6;
        }
        .console-note {
            background-color: #ff5722;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
        }
        .code-block {
            background-color: #1a1a1a;
            border: 1px solid #444;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .instructions {
            background-color: #2e7d32;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ JavaScript Tracing Library Demo</h1>
        
        <div class="console-note">
            üìù M·ªü Developer Console (F12) ƒë·ªÉ xem output c·ªßa c√°c demo!
        </div>

        <div class="instructions">
            <h3>üìã H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng:</h3>
            <ol>
                <li>M·ªü Developer Console (nh·∫•n F12)</li>
                <li>Click v√†o c√°c n√∫t demo b√™n d∆∞·ªõi</li>
                <li>Quan s√°t output trong Console</li>
                <li>Th·ª≠ c√°c style output kh√°c nhau</li>
            </ol>
        </div>

        <div class="demo-section">
            <div class="demo-title">üé® Demo 1: Colorful Output Style</div>
            <div class="demo-description">
                Demo style colorful v·ªõi c√°c m√†u s·∫Øc v√† border ƒë·∫πp m·∫Øt
            </div>
            <button onclick="demoColorfulStyle()">Ch·∫°y Colorful Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">‚ö° Demo 2: Minimal Output Style</div>
            <div class="demo-description">
                Demo style minimal - output ng·∫Øn g·ªçn v√† t·∫≠p trung
            </div>
            <button onclick="demoMinimalStyle()">Ch·∫°y Minimal Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">üìä Demo 3: Detailed Output Style</div>
            <div class="demo-description">
                Demo style detailed v·ªõi b·∫£ng chi ti·∫øt, progress bar v√† statistics
            </div>
            <button onclick="demoDetailedStyle()">Ch·∫°y Detailed Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">üìÑ Demo 4: JSON Output Style</div>
            <div class="demo-description">
                Demo output d·∫°ng JSON ƒë·ªÉ d·ªÖ d√†ng parse v√† analyze
            </div>
            <button onclick="demoJSONStyle()">Ch·∫°y JSON Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">üöÑ Demo 5: Performance Testing</div>
            <div class="demo-description">
                Demo test performance v·ªõi c√°c operations c√≥ th·ªùi gian kh√°c nhau
            </div>
            <button onclick="demoPerformanceTesting()">Ch·∫°y Performance Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">üîß Demo 6: Advanced Options</div>
            <div class="demo-description">
                Demo c√°c options n√¢ng cao: filtering, grouping, thresholds
            </div>
            <button onclick="demoAdvancedOptions()">Ch·∫°y Advanced Demo</button>
        </div>

        <div class="demo-section">
            <div class="demo-title">üåê Demo 7: All Styles Comparison</div>
            <div class="demo-description">
                So s√°nh t·∫•t c·∫£ c√°c style output v·ªõi c√πng m·ªôt workflow
            </div>
            <button onclick="demoAllStyles()">Ch·∫°y All Styles Demo</button>
        </div>

        <div class="code-block">
            <h3>üìù Example Usage Code:</h3>
            <pre><code>// Basic usage
const tracer = createTracer('My Operation');
tracer.span('Step 1: Initialize');
// ... do some work ...
tracer.span('Step 2: Process');
// ... do more work ...
tracer.end();

// With options
const tracer = createTracer('Advanced Operation',
    TracerOptions.withOutputStyle(OutputStyle.Colorful),
    TracerOptions.withMinTotalDuration(100)
);
</code></pre>
        </div>
    </div>

    <!-- Load the tracing library -->
    <script src="tracer.js"></script>
    
    <script>
        // Demo functions
        function simulateWork(ms) {
            const start = performance.now();
            while (performance.now() - start < ms) {
                // Simulate work
            }
        }

        function simulateAsyncWork(ms) {
            return new Promise(resolve => {
                setTimeout(resolve, ms);
            });
        }

        function demoColorfulStyle() {
            console.log('\nüé® === COLORFUL STYLE DEMO ===');
            
            const tracer = createTracer('Database Operations', 
                TracerOptions.withOutputStyle(OutputStyle.Colorful)
            );
            
            tracer.span('Connect to database');
            simulateWork(20);
            
            tracer.span('Execute query');
            simulateWork(150);
            
            tracer.span('Process results');
            simulateWork(80);
            
            tracer.span('Close connection');
            simulateWork(10);
            
            tracer.end();
        }

        function demoMinimalStyle() {
            console.log('\n‚ö° === MINIMAL STYLE DEMO ===');
            
            const tracer = createTracer('API Request', 
                TracerOptions.withOutputStyle(OutputStyle.Minimal)
            );
            
            tracer.span('Validate input');
            simulateWork(5);
            
            tracer.span('Call external API');
            simulateWork(300);
            
            tracer.span('Parse response');
            simulateWork(25);
            
            tracer.end();
        }

        function demoDetailedStyle() {
            console.log('\nüìä === DETAILED STYLE DEMO ===');
            
            const tracer = createTracer('Complex Workflow', 
                TracerOptions.withOutputStyle(OutputStyle.Detailed)
            );
            
            tracer.span('Initialize system');
            simulateWork(50);
            
            tracer.span('Load configuration');
            simulateWork(30);
            
            tracer.span('Connect to services');
            simulateWork(200);
            
            tracer.span('Validate permissions');
            simulateWork(75);
            
            tracer.span('Execute main logic');
            simulateWork(500);
            
            tracer.span('Generate report');
            simulateWork(120);
            
            tracer.span('Cleanup resources');
            simulateWork(15);
            
            tracer.end();
        }

        function demoJSONStyle() {
            console.log('\nüìÑ === JSON STYLE DEMO ===');
            
            const tracer = createTracer('Data Processing Pipeline', 
                TracerOptions.withOutputStyle(OutputStyle.JSON)
            );
            
            tracer.span('Read input file');
            simulateWork(40);
            
            tracer.span('Parse data');
            simulateWork(90);
            
            tracer.span('Transform data');
            simulateWork(180);
            
            tracer.span('Write output');
            simulateWork(60);
            
            tracer.end();
        }

        function demoPerformanceTesting() {
            console.log('\nüöÑ === PERFORMANCE TESTING DEMO ===');
            
            const tracer = createTracer('Performance Test', 
                TracerOptions.withOutputStyle(OutputStyle.Colorful),
                TracerOptions.withPerformanceMode()
            );
            
            tracer.span('Ultra fast operation');
            simulateWork(2);  // < 10ms - white
            
            tracer.span('Very fast operation');
            simulateWork(25); // 10-50ms - cyan
            
            tracer.span('Fast operation');
            simulateWork(75); // 50-100ms - green
            
            tracer.span('Medium operation');
            simulateWork(250); // 100-500ms - blue
            
            tracer.span('Medium-slow operation');
            simulateWork(750); // 500ms-1s - magenta
            
            tracer.span('Slow operation');
            simulateWork(2000); // 1s-5s - red
            
            tracer.end();
        }

        function demoAdvancedOptions() {
            console.log('\nüîß === ADVANCED OPTIONS DEMO ===');
            
            // Demo 1: Show slow only
            console.log('\n--- Show Slow Operations Only (>100ms) ---');
            const slowTracer = createTracer('Slow Operations Filter', 
                TracerOptions.withOutputStyle(OutputStyle.Detailed),
                TracerOptions.withShowSlowOnly(100)
            );
            
            slowTracer.span('Fast operation 1');
            simulateWork(5);
            
            slowTracer.span('Fast operation 2');
            simulateWork(25);
            
            slowTracer.span('Slow operation 1');
            simulateWork(150);
            
            slowTracer.span('Fast operation 3');
            simulateWork(10);
            
            slowTracer.span('Slow operation 2');
            simulateWork(300);
            
            slowTracer.end();
            
            // Demo 2: Hide ultra fast
            console.log('\n--- Hide Ultra Fast Operations (<50ms) ---');
            const filteredTracer = createTracer('Filtered Operations', 
                TracerOptions.withOutputStyle(OutputStyle.Colorful),
                TracerOptions.withHideUltraFast(50)
            );
            
            filteredTracer.span('Ultra fast op');
            simulateWork(5);
            
            filteredTracer.span('Medium op');
            simulateWork(100);
            
            filteredTracer.span('Another ultra fast');
            simulateWork(10);
            
            filteredTracer.span('Slow op');
            simulateWork(200);
            
            filteredTracer.end();
        }

        async function demoAllStyles() {
            console.log('\nüåê === ALL STYLES COMPARISON ===');
            console.log('Same workflow, different output styles:\n');
            
            const styles = [
                { name: 'Colorful', style: OutputStyle.Colorful },
                { name: 'Minimal', style: OutputStyle.Minimal },
                { name: 'Detailed', style: OutputStyle.Detailed },
                { name: 'JSON', style: OutputStyle.JSON }
            ];
            
            for (const styleConfig of styles) {
                console.log(`\n--- ${styleConfig.name.toUpperCase()} STYLE ---`);
                
                const tracer = createTracer('Sample Workflow', 
                    TracerOptions.withOutputStyle(styleConfig.style)
                );
                
                tracer.span('Initialize');
                simulateWork(30);
                
                tracer.span('Process data');
                simulateWork(120);
                
                tracer.span('Save results');
                simulateWork(60);
                
                tracer.span('Cleanup');
                simulateWork(15);
                
                tracer.end();
                
                // Small delay between demos
                await simulateAsyncWork(100);
            }
        }

        // Welcome message
        console.log('üöÄ JavaScript Tracing Library Demo Ready!');
        console.log('üëÜ Click buttons above to see different demo outputs');
        console.log('üìù Check out the colorful console outputs below:');
        console.log('');
    </script>
</body>
</html> 